Microsoft (R) Macro Assembler Version 5.00                  10/21/12 09:38:30
                                                             Page     1-1


       1 0000				DATAS SEGMENT 
       2 0000  48 45 4C 4C 4F 21 0A	    str_out	DB	'HELLO!', 0AH, 
					0DH, '$'   ;0AH:ASCIIÂë»»ÐÐ,0DH:ASCIIÂë
					»Ø³µ, '$'×Ö·û´®½áÊø±êÖ¾ 
       3       0D 24			
       4 0009  05  ??			    str_in  DB  5, ?, 5 DUP(?)         
					  ;´®ÖÐµÚ1¸öÔªËØ¹æ¶¨ÔÊÐí×î¶àÊäÈëµÄ×Ö·ûÊ
					ý(º¬»Ø³µ),´Ë´¦×î¶à¿ÉÊäÈë5¸ö×Ö·û 
       5       0005[			
       6	    ??			
       7			 ]	
       8				
       9				                                       
					  ;´®ÖÐµÚ2¸öÔªËØ±£Áô,±£´æÊäÈë×Ö·ûµÄ¸öÊý
					 
      10				                                       
					  ;´ÓµÚ3¸öÔªËØÆðÎªÊäÈë×Ö·ûµÄ»º³åÇø     
      11 0010  0064[			    str_buf DB  100 DUP(?)             
					  ;³¤¶ÈÎª100×Ö½ÚµÄ×Ö·û´®»º³åÇø 
      12	    ??			
      13			 ]	
      14				
      15				 
      16 0074				DATAS ENDS 
      17				 
      18 0000				STACKS SEGMENT STACK 
      19 0000  0064[			sta  DB   100 DUP(?) 
      20	    ??			
      21			 ]	
      22				
      23 = 0064				TOP  EQU  LENGTH sta 
      24 0064				STACKS ENDS 
      25				 
      26 0000				CODES SEGMENT 
      27				    ASSUME CS:CODES,DS:DATAS,SS:STACKS 
      28 0000				START: 
      29 0000  B8 ---- R		    MOV AX,DATAS 
      30 0003  8E D8			    MOV DS,AX 
      31 0005  B8 ---- R		    MOV AX,STACKs 
      32 0008  8E D0			    MOV SS,AX 
      33 000A  BC 0064			    MOV SP,TOP  
      34				  
      35 000D				CHECK:     
      36 000D  B2 FF			    MOV DL,0FFH            ;0FFH:¼üÅÌÊä
					Èë,0:¼üÅÌÊä³ö 
      37 000F  B4 06			    MOV AH,06H              
      38 0011  CD 21			    INT 21H                ;¼ì²âÉ¨Ãè¼üÅ
					Ì,µ«²»µÈ´ý¼üÅÌÊäÈë 
      39 0013  74 F8			    JZ  CHECK              ;ZF=1,ÎÞ¼üÅÌ
					ÊäÈë,¼ÌÐøµÈ´ý,×ªCHECK 
      40				                           ;ZF=0,ÓÐ¼üÅÌ
					ÊäÈë,ÊäÈëµÄ×Ö·û´æ·ÅÔÚAL 
      41				        
      42 0015  8A D0			    MOV DL,AL              ;ÆÁÄ»Êä³ö×Ö·
Microsoft (R) Macro Assembler Version 5.00                  10/21/12 09:38:30
                                                             Page     1-2


					û£¬×Ö·û´æDL 
      43 0017  B4 02			    MOV AH,02H 
      44 0019  CD 21			    INT 21H 
      45				     
      46 001B  B2 0D			    MOV DL,0DH             ;ÆÁÄ»Êä³ö×Ö·
					û£¬×Ö·û´æDL 
      47 001D  B4 02			    MOV AH,02H 
      48 001F  CD 21			    INT 21H   
      49				     
      50 0021  B2 0A			    MOV DL,0AH             ;ÆÁÄ»Êä³ö×Ö·
					û£¬×Ö·û´æDL 
      51 0023  B4 02			    MOV AH,02H 
      52 0025  CD 21			    INT 21H  
      53				     
      54 0027  BA 0000 R		    MOV DX, OFFSET str_out ;ÆÁÄ»Êä³ö×Ö·
					û´®£¬×Ö·û´®Ê×µØÖ·ËÍDX 
      55 002A  B4 09			    MOV AH,09H              
      56 002C  CD 21			    INT 21H 
      57				     
      58 002E  BA 0009 R		    MOV DX, OFFSET str_in  ;ÊäÈë×Ö·û´®£
					¬×Ö·û´®Ê×µØÖ·ËÍDX 
      59 0031  B4 0A			    MOV AH,0AH 
      60 0033  CD 21			    INT 21H 
      61				     
      62 0035  1E			    PUSH DS                ;ÆÁÄ»Êä³öÊäÈ
					ëµÄ×Ö·û´®str_in 
      63 0036  07			    POP  ES 
      64 0037  33 C9			    XOR  CX,CX 
      65 0039  8A 0E 000A R		    MOV  CL,str_in+1 
      66 003D  8D 36 000B R		    LEA  SI,str_in+2 
      67 0041  8D 3E 0010 R		    LEA  DI,str_buf 
      68 0045  FC			    CLD 
      69 0046  F3/ A4			    REP MOVSB                      ;´«Ë
					Ístr_inµ½str_buf 
      70 0048  C6 05 0A			    MOV BYTE PTR [DI],0AH          ;»»Ð
					Ð 
      71 004B  C6 45 01 0D		    MOV BYTE PTR [DI+1],0DH        ;»Ø³
					µ  
      72 004F  C6 45 02 24		    MOV BYTE PTR [DI+2],'$'        ;ÖÃ×
					Ö·û´®½áÊø±êÖ¾ 
      73				      
      74				      
      75 0053  B2 0A			    MOV DL,0AH              ;ÆÁÄ»Êä³ö×Ö
					·û£¬×Ö·û´æDL 
      76 0055  B4 02			    MOV AH,02H 
      77 0057  CD 21			    INT 21H  
      78				       
      79 0059  BA 0010 R		    MOV DX, OFFSET str_buf ;ÆÁÄ»Êä³ö×Ö·
					û´®£¬×Ö·û´®Ê×µØÖ·ËÍDX 
      80 005C  B4 09			    MOV AH,09H 
      81 005E  CD 21			    INT 21H 
      82				     
      83 0060  B4 01			    MOV AH,01H             ;ÊäÈë×Ö·û£¬×
					Ö·ûËÍAL 
Microsoft (R) Macro Assembler Version 5.00                  10/21/12 09:38:30
                                                             Page     1-3


      84 0062  CD 21			    INT 21H 
      85				 
      86				     
      87 0064  B4 4C			    MOV AH,4CH             ;·µ»Ø²Ù×÷ÏµÍ
					³¹¦ÄÜµ÷ÓÃ 
      88 0066  CD 21			    INT 21H 
      89 0068				CODES ENDS 
      90				    END START 
Microsoft (R) Macro Assembler Version 5.00                  10/21/12 09:38:30
                                                             Symbols-1


Segments and Groups:

                N a m e         	Length	 Align	Combine Class

CODES  . . . . . . . . . . . . .  	0068	PARA	NONE	
DATAS  . . . . . . . . . . . . .  	0074	PARA	NONE	
STACKS . . . . . . . . . . . . .  	0064	PARA	STACK	

Symbols:            

                N a m e         	Type	 Value	 Attr

CHECK  . . . . . . . . . . . . .  	L NEAR	000D	CODES

STA  . . . . . . . . . . . . . .  	L BYTE	0000	STACKS	Length = 0064
START  . . . . . . . . . . . . .  	L NEAR	0000	CODES
STR_BUF  . . . . . . . . . . . .  	L BYTE	0010	DATAS	Length = 0064
STR_IN . . . . . . . . . . . . .  	L BYTE	0009	DATAS
STR_OUT  . . . . . . . . . . . .  	L BYTE	0000	DATAS

TOP  . . . . . . . . . . . . . .  	NUMBER	0064	

@FILENAME  . . . . . . . . . . .  	TEXT  dos		


     79 Source  Lines
     79 Total   Lines
     12 Symbols

  49242 + 382358 Bytes symbol space free

      0 Warning Errors
      0 Severe  Errors
